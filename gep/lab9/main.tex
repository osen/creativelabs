\documentclass[10pt]{article}

\usepackage[a4paper, total={6in, 10in}]{geometry}
\usepackage{fancyvrb}
\usepackage{color}
\usepackage{xcolor}
\usepackage{framed}
\usepackage{environ}
\setlength{\parindent}{0pt}

\input{../../common}

\begin{document}

\title{Game Engine Programming \\
  \large Lab 9: Technical Documentation}

\author{Karsten Pedersen\\ Department of Creative Technology}
\maketitle

In this lab we are going to be looking into documenting your code in a consistent
and formal manner.

Lets begin by downloading and extracting Doxygen to your home directory (H:).
Run the following command from a POSIX terminal emulator:

\begin{Code}

$ cd /h
$ wget http://ftp.stack.nl/pub/users/dimitri/doxygen-1.8.14.<arch>.bin.zip
$ unzip doxygen-1.8.14.<arch>.bin.zip

\end{Code}

The most important step is to add \Name{doxygen} from the extracted archive to your path.

Run the following command.

\begin{Code}

$ echo $PATH

\end{Code}

This should output a colon seperated list of directories that the system shell looks within for programs.
We need to add the folder containing \Name{doxygen} to it. We do this by creating and editing your shell profile:

\begin{Code}

$ vi ~/.bashrc

\end{Code}

or:

\begin{Code}

$ notepad ~/.bashrc

\end{Code}

What we need to do now is append to your \Name{PATH} variable. We append
because we want to keep what it already has but we just want to add
an additional folder to search in. The following listing shows this as
an example:

\begin{Code}

export PATH=$PATH:/h/doxygen

\end{Code}

\Note{
You do not want spaces in filenames. It causes issues with many things in the world of computers.
}

Now restart the terminal emulator and try running \Name{doxygen}. You should see the help output appear as text.
With this in place we are now ready to process our project. Change into your project directory, run \Name{doxygen} to generate a template config file and run doxygen:

\begin{Code}

$ cd /h/Projects/myengine
$ doxygen -g Doxyfile
$ doxygen

\end{Code}

You should notice that \Name{latex} and \Name{html} folders have appeared
which contain the documentation output. You should not check these into
your repository because they can be regenerated. If you use \LaTeX{} as
the typesetter for your report you can just type \Name{make} in the
latex folder or include it within your document, otherwise ignore it.

Next edit the \Name{Doxyfile} file and in particular have a look at the
following options:

\begin{itemize}
\item PROJECT\_NAME
\item EXTRACT\_ALL
\item INPUT
\item RECURSIVE
\end{itemize}

From now on, you just need to rerun the \Name{doxygen} command.

You can comment your code using the following format and changes should be reflected in the generated documentation:

\begin{Code}

/**
* Represent a Player state
*/
class Player
{
  int health; ///< The amount of health remaining.
};

\end{Code}

\Note{
With this in place, have a look at the options \Name{HAVE\_DOT}
and \Name{CALL\_GRAPH} to imrpove the diagrams generated by
\Name{Doxygen}. You will need to install the \Name{dot} tool from the
\Name{GraphViz} package in a very similar way to \Name{Doxygen}.
}

\end{document}
